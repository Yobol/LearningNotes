# 计数排序

无独有偶，和基数排序一样，计数排序也不是一个基于比较的排序算法。计数排序的优势在于：当对**一定范围内的整数**排序时，它的复杂度为`Ο(n+k)`（其中k是整数的范围），快于任何比较排序算法。当然这必然是一种拿空间换时间的做法，而且当`O(k) > O(n*log(n))`的时候其效率反而不如基于比较的排序（基于比较的排序的时间复杂度在理论上的下限是`O(n*log(n))`, 如归并排序，堆排序）。

## 基本思想

计数排序对输入的数据有附加的限制条件：

1、输入的线性表的元素属于有限偏序集S；

2、设输入的线性表的长度为n，|S|=k（表示集合S中元素的总数目为k），则k=O(n)。

在这两个条件下，计数排序的复杂度为O(n)。

计数排序的基本思想是对于给定的输入序列中的每一个元素x，确定该序列中的值小于元素x的的个数（此处并非比较各元素的大小，而是通过对元素值的计数和计数值的累加来确定）。一旦有了这个信息，就可以将x直接存放到最终的输出序列的正确位置上。例如，如果输入序列中只有17个元素的值小于x的值，则x可以直接存放在输出序列的第18个位置上。当然，如果有多个元素具有相同的值时，我们不能将这些元素放在输出序列的同一个位置上，因此，上述方案还要作适当的修改。

## 算法实现

假设输入的线性表L的长度为n，L=L1,L2,..,Ln；线性表的元素属于有限偏序集S，|S|=k且k=O(n)，S={S1,S2,..Sk}；则计数排序可以描述如下：

1、扫描整个集合S，对每一个Si∈S，找到在线性表L中小于等于Si的元素的个数T(Si)；

2、扫描整个线性表L，对L中的每一个元素Li，将Li放在输出线性表的第T(Li)个位置上，并将T(Li)减1。

**Description**

实现计数排序，通过多次遍历数组，统计比每一个元素小的其它元素个数，根据该统计量对数据进行排序。

**Input**

输入的每一行表示一个元素为正整数的数组，所有值用空格隔开，第一个值为数组长度，其余为数组元素值。

**Output**

输出的每一行为排序结果，用空格隔开，末尾不要空格。

**Sample Input**

```
13 24 3 56 34 3 78 12 29 49 84 51 9 100
```

**Sample Output**

```
3 3 9 12 24 29 34 49 51 56 78 84 100
```

**Solution**

```python
def count_sort(arr, size):
    result = [None] * size
    for i in range(size):
        cnt_min = 0
        cnt_equal = 0
        for j in range(size):
            if arr[j] < arr[i]:
                cnt_min += 1
            elif arr[j] == arr[i]:
                cnt_equal += 1
        for k in range(cnt_min, cnt_min + cnt_equal):
            result[k] = arr[i]
    return result


def print_arrs(arrs):
    for arr in arrs:
        print(" ".join(str(i) for i in arr))


if __name__ == "__main__":
    sorted_arrs = []
    try:
        while True:
            line = list(map(int, input().split()))
            sorted_arrs.append(count_sort(line[1:], line[0]))

            print(count_sort(line[1:], line[0]))
    except EOFError:
        print_arrs(sorted_arrs)
```

## 性能分析

### 空间复杂度

O(n)。

### 时间复杂度

我们看到，计数排序算法没有用到元素间的比较，它利用元素的实际值来确定它们在输出数组中的位置。因此，计数排序算法不是一个基于比较的排序算法，从而它的计算时间下界不再是Ω(nlogn)。另一方面，计数排序算法之所以能取得线性计算时间的上界是因为对元素的取值范围作了一定限制，即k=O(n)。如果k=n2,n3,..，就得不到线性时间的上界。

### 稳定性

经计数排序，输出序列中值相同的元素之间的相对次序与他们在输入序列中的相对次序相同，换句话说，计数排序算法是一个稳定的排序算法。