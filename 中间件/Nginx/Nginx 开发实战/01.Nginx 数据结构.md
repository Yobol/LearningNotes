# Nginx 数据结构

## 散列表

### 基本散列表

Nginx 使用“开放寻址法 ”解决哈希冲突问题。

开放寻址法会将所有元素都存放在散列表中，当查找一个元素时，要检查规则内的所有表项（如连续的非空槽或者整个空间内符合散列方法的所有槽），直到找到所需的元素，或者穷尽所有槽发现元素不在表中。开放寻址法中没有链表，也没有元素存放在散列表外。

开放寻址法有许多种实现方式， Nginx 使用的是连续非空槽存储碰撞元素。例如，当插入一个元素时，可以按照散列方法找到指定槽，如果该槽非空且其存储的元素与待插入元素并非同一元素，则依次检查其后续的槽，直到找到一个空槽来放置这个元素为止。查询元素时也是使用类似的方法，即从散列方法制定的位置起检查连续的非空槽中的元素。



Nginx 使用 ngx_hash_elt_t 结构体来存储散列表元素。

### 支持通配符的散列表

