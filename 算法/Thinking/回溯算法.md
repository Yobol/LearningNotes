# 回溯算法（Backtracking Algorithm）

回溯算法也称为试探法，是一种系统地搜索问题最优解的方法。

用回溯法解决问题的一般步骤：

1. 针对所给问题，定义问题的解空间，它至少包含问题的一个（最优）解；
2. 确定易于搜索的解空间结构，使得能用回溯法方便地搜索整个解空间；
3. 以深度优先搜索的方式搜索解空间，并且在搜索过程使用剪枝操作来剔除无效解。

确定解空间的组织结构后，回溯法就开始从开始结点（根节点）出发，以深度优先的方式搜索整个解空间。这个开始结点就称成为一个活结点，同时也成为当前的扩展结点（回溯点），接着从该结点纵深移至一个新结点，此新结点也成为一个活结点，同时也成为当前的扩展结点（回溯点）。如果在当前的扩展结点处不能再纵深移动，则当前的扩展结点就成为死结点，此时，应往回移动至最近的一个活结点处，并使这个活结点成为当前的扩展结点（回溯点）。回溯法即以这种工作方式递归地在解空间中搜索，直至找到所要求的解或解空间中没有活结点时为止。

## 基本思想

回溯算法的基本思想：从一条路往前走，能进则进，不能进则退回来，换一条路再试。

回溯算法的典型问题是八皇后问题：第一步按照顺序放第一个皇后，然后第二步符合要求放第二个皇后，如果没有位置符合要求，那么就要改变第一个皇后的位置，重新放第二个皇后的位置，直到找到符合条件的位置。

回溯算法说白了就是穷举法。不过回溯算法使用剪枝操作剪去一些不可能到达最终状态（即答案状态）的结点，从而减少状态空间树节点的生成。

回溯法是一个既带有系统性又带有跳跃性的的搜索算法。它在包含问题的所有解的解空间树中，按照深度优先的策略，从根结点出发搜索解空间树。算法搜索至解空间树的任一结点时，总是先判断该结点是否肯定不包含问题的解。如果肯定不包含，则跳过对以该结点为根的子树的系统搜索，逐层向其祖先结点回溯。否则，进入该子树，继续按深度优先的策略进行搜索。

回溯法在用来求问题的所有解时，要回溯到根，且根结点的所有子树都已被搜索遍才结束；而回溯法在用来求问题的任一解时，只要搜索到问题的一个解就可以结束。这种以深度优先的方式系统地搜索问题的解的算法称为回溯法，它适用于解一些组合数较大的问题。